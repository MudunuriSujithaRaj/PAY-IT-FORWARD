{"ast":null,"code":"var _jsxFileName = \"/Users/macadmin/Desktop/praj/src/components/customer/productalone.js\";\nimport React from \"react\";\nimport CNav from './Nav';\nimport './c_home.css';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Sidenav from \"./sidenav\";\nvar id, s1, s2, cid;\nconst donor = {\n  width: '100%',\n  height: '100%',\n  backgroundColor: '#dcdcdc'\n};\n\nclass productalone extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.reqquant = event => {\n      this.setState({\n        reqquant: event.target.value\n      });\n    };\n\n    this.aprice = event => {\n      this.setState({\n        aprice: event.target.value\n      });\n    };\n\n    id = this.props.match.params.id;\n    cid = sessionStorage.getItem(\"id\");\n    console.log(id);\n    this.state = {\n      cp: [],\n      aprice: null,\n      reqquant: null\n    };\n    this.reqquant = this.reqquant.bind(this);\n    this.aprice = this.aprice.bind(this);\n    this.buyproduct = this.buyproduct.bind(this);\n    this.cart = this.cart.bind(this);\n  }\n\n  componentDidMount() {\n    const url = \"http://localhost:9000/singleproduct\";\n    var body = {\n      id: id\n    };\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    headers.append('Accept', 'application/json');\n    headers.append('Access-Control-Allow-origin', url);\n    headers.append('Access-Control-Allow-Credentials', 'true');\n    headers.append('POST', 'GET');\n    fetch(url, {\n      headers: headers,\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(response => {\n      return response.json();\n    }).then(res => {\n      this.setState({\n        cp: res\n      });\n      console.log(this.state.cp);\n      console.log(s1, s2);\n    });\n  }\n\n  buyproduct(event) {\n    event.preventDefault();\n    console.log(this.state.reqquant, this.state.aprice);\n    console.log(this.state.cp.quant);\n    if (this.state.aprice < this.state.cp.nprice) alert(\"Entered agreed price should be greater than or equal to nominal price\");else if (this.state.reqquant > this.state.cp.quant) alert(\"Entered quantity should be less than or equal to availability\");else {\n      var body = {\n        pid: id,\n        cid: cid,\n        aprice: this.state.aprice,\n        quant: this.state.cp.quant,\n        nquant: this.state.reqquant\n      };\n      const url = \"http://localhost:9000/buyproduct\";\n      let headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-Control-Allow-origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n      headers.append('POST', 'GET');\n      fetch(url, {\n        headers: headers,\n        method: 'POST',\n        body: JSON.stringify(body)\n      }).then(response => {\n        if (response.ok) {\n          alert(\"Details submitted.. Thank You For Purchasing..\");\n          window.location.reload(false);\n        }\n      });\n    }\n  }\n\n  cart(event) {\n    event.preventDefault();\n    console.log(this.state.reqquant, this.state.aprice);\n    console.log(this.state.cp.quant); //console.log(this.state.cp.quant)\n\n    if (this.state.aprice < this.state.cp.nprice) alert(\"Entered agreed price should be greater than or equal to nominal price\");else if (this.state.reqquant > this.state.cp.quant) alert(\"Entered quantity should be less than or equal to availability\");else {\n      var body = {\n        pid: id,\n        cid: cid,\n        aprice: this.state.aprice,\n        quant: this.state.cp.quant,\n        nquant: this.state.reqquant\n      };\n      const url = \"http://localhost:9000/cartproduct\";\n      let headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-Control-Allow-origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n      headers.append('POST', 'GET');\n      fetch(url, {\n        headers: headers,\n        method: 'POST',\n        body: JSON.stringify(body)\n      }).then(response => {\n        if (response.ok) {\n          alert(\"Details submitted.. Added to cart..\");\n          window.location.reload(false);\n        }\n      });\n    }\n  }\n\n  render() {\n    s1 = '/productimages/' + this.state.cp.img1;\n    s2 = '/productimages/' + this.state.cp.img2;\n    return React.createElement(\"div\", {\n      style: donor,\n      class: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(CNav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }), React.createElement(Sidenav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"productalone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"divleft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, this.state.cp.pname)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: s1,\n      width: \"300px\",\n      height: \"300px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"divright\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      class: \"productalonetable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Description \")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, this.state.cp.des))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Availabitlity \")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, this.state.cp.quant))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Nominal Price \")), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Rs.\", this.state.cp.nprice)))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Required Quantity\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"producttext\",\n      value: this.state.reqquant,\n      onChange: this.reqquant,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Agreed Price\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"producttext\",\n      value: this.state.aprice,\n      onChange: this.aprice,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.buyproduct,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Buy\"), \"\\xA0\\xA0\\xA0\", React.createElement(\"button\", {\n      onClick: this.cart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"AddToCart\")))));\n  }\n\n}\n\nexport default productalone;","map":{"version":3,"sources":["/Users/macadmin/Desktop/praj/src/components/customer/productalone.js"],"names":["React","CNav","BrowserRouter","Route","Sidenav","id","s1","s2","cid","donor","width","height","backgroundColor","productalone","Component","constructor","props","reqquant","event","setState","target","value","aprice","match","params","sessionStorage","getItem","console","log","state","cp","bind","buyproduct","cart","componentDidMount","url","body","headers","Headers","append","fetch","method","JSON","stringify","then","response","json","res","preventDefault","quant","nprice","alert","pid","nquant","ok","window","location","reload","render","img1","img2","pname","des"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport CNav from './Nav';\nimport './c_home.css'\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Sidenav from \"./sidenav\"\nvar id,s1,s2,cid;\nconst donor ={\n  width: '100%',\n  height: '100%',\n  backgroundColor: '#dcdcdc',\n}\nclass productalone extends React.Component {\n    constructor(props) {\n      super(props);\n        id=this.props.match.params.id;\n        cid=sessionStorage.getItem(\"id\");\n      console.log(id)\n      this.state={\n        cp:[],\n        aprice:null,\n        reqquant:null,\n        \n      }\n      this.reqquant = this.reqquant.bind(this)\n      this.aprice = this.aprice.bind(this)\n      this.buyproduct = this.buyproduct.bind(this)\n      this.cart = this.cart.bind(this)\n    }\n\n    reqquant=event=>{\n      this.setState({\n        reqquant: event.target.value\n      });\n    }\n    aprice=event=>{\n      this.setState({\n        aprice: event.target.value\n      });\n      \n    }\n\n    componentDidMount(){\n      const url = \"http://localhost:9000/singleproduct\";\n       var body={id:id}\n        let headers = new Headers();\n        headers.append('Content-Type','application/json');\n        headers.append('Accept','application/json');\n\n        headers.append('Access-Control-Allow-origin',url);\n        headers.append('Access-Control-Allow-Credentials','true');\n\n        headers.append('POST','GET');\n        \n         fetch(url,{\n            headers:headers,\n            method: 'POST',\n            body: JSON.stringify(body)\n            })\n            .then(response =>{return response.json()})\n            .then(res=>{this.setState({cp:res})\n            console.log(this.state.cp)\n            \n            console.log(s1,s2)\n                \n        })\n    }\n\n    buyproduct(event){\n      event.preventDefault();\n      console.log(this.state.reqquant,this.state.aprice)\n      console.log(this.state.cp.quant)\n      if(this.state.aprice < this.state.cp.nprice)\n        alert(\"Entered agreed price should be greater than or equal to nominal price\")\n      else if(this.state.reqquant > this.state.cp.quant)\n        alert(\"Entered quantity should be less than or equal to availability\")\n      else{\n        var body = {\n            pid: id,\n            cid: cid,\n            aprice: this.state.aprice,\n            quant: this.state.cp.quant,\n            nquant: this.state.reqquant,\n        }\n        const url = \"http://localhost:9000/buyproduct\";\n        let headers = new Headers();\n    \n        headers.append('Content-Type','application/json');\n        headers.append('Accept','application/json');\n    \n        headers.append('Access-Control-Allow-origin',url);\n        headers.append('Access-Control-Allow-Credentials','true');\n    \n        headers.append('POST','GET');\n    \n        fetch(url, {\n          headers:headers,\n          method: 'POST',\n          body: JSON.stringify(body)\n        })\n        .then(response => {if(response.ok){\n              alert(\"Details submitted.. Thank You For Purchasing..\");\n            window.location.reload(false);\n          }\n        })\n        \n      }\n    }\n\n    cart(event){\n      event.preventDefault();\n      console.log(this.state.reqquant,this.state.aprice)\n      console.log(this.state.cp.quant)\n      //console.log(this.state.cp.quant)\n      if(this.state.aprice < this.state.cp.nprice)\n        alert(\"Entered agreed price should be greater than or equal to nominal price\")\n      else if(this.state.reqquant > this.state.cp.quant)\n        alert(\"Entered quantity should be less than or equal to availability\")\n      else{\n        var body = {\n            pid: id,\n            cid: cid,\n            aprice: this.state.aprice,\n            quant: this.state.cp.quant,\n            nquant: this.state.reqquant,\n        }\n        const url = \"http://localhost:9000/cartproduct\";\n        let headers = new Headers();\n    \n        headers.append('Content-Type','application/json');\n        headers.append('Accept','application/json');\n    \n        headers.append('Access-Control-Allow-origin',url);\n        headers.append('Access-Control-Allow-Credentials','true');\n    \n        headers.append('POST','GET');\n    \n        fetch(url, {\n          headers:headers,\n          method: 'POST',\n          body: JSON.stringify(body)\n        })\n        .then(response => {if(response.ok){\n              alert(\"Details submitted.. Added to cart..\");\n            window.location.reload(false);\n          }\n        })\n        \n      }\n    }\n\n  \n    render() {\n      s1='/productimages/'+this.state.cp.img1\n      s2='/productimages/'+this.state.cp.img2\n      return (\n        <div style={donor} class=\"main\">\n                <CNav/>\n                <Sidenav/>\n                <div class=\"productalone\">\n                    <div class=\"divleft\">\n                      \n                        <h2><b>{this.state.cp.pname}</b></h2><br/>\n                        <img src={s1} width=\"300px\" height=\"300px\"/><br/><br/><br/>\n                        {/* <img src={s2} width=\"300px\" height=\"300px\"/> */}\n                    </div>\n                    <div class=\"divright\">\n                      <br/><br/>\n                      <table class=\"productalonetable\">\n                        {<tr><td><h3>Description </h3></td><td><h3>{this.state.cp.des}</h3></td></tr> }\n                        <tr><td><h3>Availabitlity </h3></td><td><h3>{this.state.cp.quant}</h3></td></tr>\n                        <tr><td><h3>Nominal Price </h3></td><td><h3>Rs.{this.state.cp.nprice}</h3></td></tr>\n                        \n                        </table>\n                        <br/><br/><br/>\n                        <form>  \n                            <h2>Required Quantity</h2><input type=\"text\" class=\"producttext\" value={this.state.reqquant} onChange={this.reqquant} required/>\n                            <h2>Agreed Price</h2><input type=\"text\" class=\"producttext\" value={this.state.aprice} onChange={this.aprice} required/><br/>\n                            <button onClick={this.buyproduct}>Buy</button>&nbsp;&nbsp;&nbsp;\n                            <button onClick={this.cart}>AddToCart</button>\n                        </form>\n                    </div>\n                </div>\n        </div>\n        \n      );\n    }\n  }\n  \n  export default productalone;\n  "]},"metadata":{},"sourceType":"module"}