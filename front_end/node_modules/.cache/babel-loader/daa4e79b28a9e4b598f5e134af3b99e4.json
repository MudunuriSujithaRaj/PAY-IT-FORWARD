{"ast":null,"code":"var _jsxFileName = \"/Users/macadmin/Desktop/praj/src/components/login/login.js\";\nimport React from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nexport class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleEmailChange = event => {\n      this.setState({\n        email: event.target.value\n      });\n    };\n\n    this.handlePasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handledonateSubmit = this.handledonateSubmit.bind(this);\n    this.handlepurchaseSubmit = this.handlepurchaseSubmit.bind(this);\n  }\n\n  handledonateSubmit(event) {\n    event.preventDefault();\n    console.log(this.state);\n    var body = {\n      email: this.state.email,\n      password: this.state.password\n    };\n    console.log(body);\n\n    if (this.state.email == \"\") {\n      alert('Please enter the name');\n    } else if (this.state.password == \"\") {\n      alert('Please enter the password');\n    } else {\n      const url = \"http://localhost:9000/login\";\n      let headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-Control-Allow-origin', url);\n      headers.append('Access-Control-Allow-Credentials', 'true');\n      headers.append('POST', 'GET');\n      fetch(url, {\n        headers: headers,\n        method: 'POST',\n        body: JSON.stringify(body)\n      }).then(response => {\n        if (response.redirected) {\n          window.location.href = \"/donorhome\";\n        } else if (response.ok) {\n          alert(\"Wrong email or password\");\n        }\n      });\n      {\n        /*}.catch((error)=> {console.log(\"can't access\" + url + \"response. \" +error )},\n         alert(\"Wrong email or password\"))*/\n      }\n    }\n  }\n\n  handlepurchaseSubmit(event) {\n    event.preventDefault();\n  }\n  /*donate = () =>{\n    let path = '';\n    let history = useHistory();\n    history.push(path);\n  }*/\n\n\n  render() {\n    return React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"base-container\",\n      ref: this.props.containerRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"email\",\n      value: this.state.email,\n      onChange: this.handleEmailChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      value: this.state.password,\n      onChange: this.handlePasswordChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn\",\n      onClick: this.handledonateSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Donate\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn\",\n      onClick: this.handlepurchaseSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Purchase\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"back\")))));\n  }\n\n}","map":{"version":3,"sources":["/Users/macadmin/Desktop/praj/src/components/login/login.js"],"names":["React","Redirect","useHistory","Login","Component","constructor","props","handleEmailChange","event","setState","email","target","value","handlePasswordChange","password","state","bind","handledonateSubmit","handlepurchaseSubmit","preventDefault","console","log","body","alert","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","redirected","window","location","href","ok","render","containerRef"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Redirect,useHistory } from \"react-router-dom\";\n\n\nexport class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state={\n      email : '',\n      password : ''\n    }\n    this.handleEmailChange = this.handleEmailChange.bind(this)\n    this.handlePasswordChange = this.handlePasswordChange.bind(this)\n\n    this.handledonateSubmit = this.handledonateSubmit.bind(this)\n    this.handlepurchaseSubmit = this.handlepurchaseSubmit.bind(this)\n  }\n  \n  handleEmailChange=event=>{\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  handlePasswordChange=event=>{\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handledonateSubmit(event){\n    event.preventDefault();\n    console.log(this.state)\n     var body = {\n      email : this.state.email,\n      password : this.state.password,\n    }\n    console.log(body);\n    if(this.state.email==\"\"){\n      alert('Please enter the name')\n\n    }\n    else if(this.state.password==\"\"){\n      alert('Please enter the password')\n    }\n    \n    else{\n    \n\n        const url = \"http://localhost:9000/login\";\n          let headers = new Headers();\n      \n          headers.append('Content-Type','application/json');\n          headers.append('Accept','application/json');\n      \n          headers.append('Access-Control-Allow-origin',url);\n          headers.append('Access-Control-Allow-Credentials','true');\n      \n          headers.append('POST','GET');\n      \n          fetch(url, {\n            headers:headers,\n            method: 'POST',\n            body: JSON.stringify(body)\n          })\n    \n          .then(response => {if(response.redirected){\n            window.location.href=\"/donorhome\";\n          }\n          else if(response.ok){\n            alert(\"Wrong email or password\")\n          }\n          })\n          {/*}.catch((error)=> {console.log(\"can't access\" + url + \"response. \" +error )},\n            alert(\"Wrong email or password\"))*/}\n\n          }\n          }\n          handlepurchaseSubmit(event){\n            event.preventDefault()\n          }\n          /*donate = () =>{\n            let path = '';\n            let history = useHistory();\n            history.push(path);\n          }*/\n\n  render() {\n    return (\n      <form>\n      <div className=\"base-container\" ref={this.props.containerRef}>\n        <div className=\"header\">Login</div>\n        <div className=\"content\">\n          <div className=\"form\">\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input type=\"text\" name=\"email\" placeholder=\"email\" value={ this.state.email } onChange = { this.handleEmailChange } required/>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input type=\"password\" name=\"password\" placeholder=\"password\" value={ this.state.password} onChange = { this.handlePasswordChange } required/>\n            </div>\n          </div>\n        </div>\n        <div className=\"footer\">\n          <button type=\"submit\" className=\"btn\" onClick={this.handledonateSubmit.bind(this)}> \n            Donate  \n          </button><br/><br/>\n          <button type=\"submit\" className=\"btn\" onClick={this.handlepurchaseSubmit.bind(this)}>\n            Purchase\n          </button><br/><br/><br/>\n          <a href=\"/home\"><u>back</u></a>\n        </div>\n      </div>\n      </form>\n    );\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}