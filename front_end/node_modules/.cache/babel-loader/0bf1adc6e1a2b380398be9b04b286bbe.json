{"ast":null,"code":"var _jsxFileName = \"/Users/macadmin/Desktop/praj/src/components/customer/productalone.js\";\nimport React from \"react\";\nimport CNav from './Nav';\nimport './c_home.css';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Sidenav from \"./sidenav\";\nvar id, s1, s2;\nconst donor = {\n  width: '100%',\n  height: '100%',\n  backgroundColor: '#dcdcdc'\n};\n\nclass productalone extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.reqquant = event => {\n      this.setState({\n        reqquant: event.target.value\n      });\n    };\n\n    this.aprice = event => {\n      this.setState({\n        aprice: event.target.value\n      });\n    };\n\n    id = this.props.match.params.id;\n    console.log(id);\n    this.state = {\n      cp: [],\n      aprice: null,\n      reqquant: null\n    };\n    this.reqquant = this.reqquant.bind(this);\n    this.aprice = this.aprice.bind(this);\n    this.buyproduct = this.buyproduct.bind(this);\n  }\n\n  componentDidMount() {\n    const url = \"http://localhost:9000/singleproduct\";\n    var body = {\n      id: id\n    };\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    headers.append('Accept', 'application/json');\n    headers.append('Access-Control-Allow-origin', url);\n    headers.append('Access-Control-Allow-Credentials', 'true');\n    headers.append('POST', 'GET');\n    fetch(url, {\n      headers: headers,\n      method: 'POST',\n      body: JSON.stringify(body)\n    }).then(response => {\n      return response.json();\n    }).then(res => {\n      this.setState({\n        cp: res\n      });\n      console.log(this.state.cp);\n      console.log(s1, s2);\n    });\n  }\n\n  buyproduct(event) {\n    event.preventDefault();\n    console.log(this.state.cp.quant);\n    if (this.state.aprice < this.state.cp.nprice) alert(\"Enter agreed price >= nominal price\");else if (this.state.reqquant > this.state.cp.quant) alert(\"Enter quantity <= availability\");else {\n      alert(\"validated\");\n    }\n  }\n\n  render() {\n    s1 = '/productimages/' + this.state.cp.img1;\n    s2 = '/productimages/' + this.state.cp.img2;\n    return React.createElement(\"div\", {\n      style: donor,\n      class: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(CNav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(Sidenav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"productalone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"divleft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, this.state.cp.pname), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: s1,\n      width: \"400px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: s2,\n      width: \"400px\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"divright\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Description : \", this.state.cp.des), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Availabitlity : \", this.state.cp.quant), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Nominal Price : Rs.\", this.state.cp.nprice), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Required Quantity\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"producttext\",\n      value: this.state.reqquant,\n      onChange: this.reqquant,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Agreed Price\"), React.createElement(\"input\", {\n      type: \"text\",\n      class: \"producttext\",\n      value: this.state.aprice,\n      onChange: this.aprice,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.buyproduct,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Buy\")))));\n  }\n\n}\n\nexport default productalone;","map":{"version":3,"sources":["/Users/macadmin/Desktop/praj/src/components/customer/productalone.js"],"names":["React","CNav","BrowserRouter","Route","Sidenav","id","s1","s2","donor","width","height","backgroundColor","productalone","Component","constructor","props","reqquant","event","setState","target","value","aprice","match","params","console","log","state","cp","bind","buyproduct","componentDidMount","url","body","headers","Headers","append","fetch","method","JSON","stringify","then","response","json","res","preventDefault","quant","nprice","alert","render","img1","img2","pname","des"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport CNav from './Nav';\nimport './c_home.css'\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Sidenav from \"./sidenav\"\nvar id,s1,s2;\nconst donor ={\n  width: '100%',\n  height: '100%',\n  backgroundColor: '#dcdcdc',\n}\nclass productalone extends React.Component {\n    constructor(props) {\n      super(props);\n        id=this.props.match.params.id\n      console.log(id)\n      this.state={\n        cp:[],\n        aprice:null,\n        reqquant:null,\n        \n      }\n      this.reqquant = this.reqquant.bind(this)\n      this.aprice = this.aprice.bind(this)\n      this.buyproduct = this.buyproduct.bind(this)\n    }\n\n    reqquant=event=>{\n      this.setState({\n        reqquant: event.target.value\n      });\n    }\n    aprice=event=>{\n      this.setState({\n        aprice: event.target.value\n      });\n    }\n\n    componentDidMount(){\n      const url = \"http://localhost:9000/singleproduct\";\n       var body={id:id}\n        let headers = new Headers();\n        headers.append('Content-Type','application/json');\n        headers.append('Accept','application/json');\n\n        headers.append('Access-Control-Allow-origin',url);\n        headers.append('Access-Control-Allow-Credentials','true');\n\n        headers.append('POST','GET');\n        \n         fetch(url,{\n            headers:headers,\n            method: 'POST',\n            body: JSON.stringify(body)\n            })\n            .then(response =>{return response.json()})\n            .then(res=>{this.setState({cp:res})\n            console.log(this.state.cp)\n            \n            console.log(s1,s2)\n                \n        })\n    }\n\n    buyproduct(event){\n      event.preventDefault();\n      console.log(this.state.cp.quant)\n      if(this.state.aprice < this.state.cp.nprice)\n        alert(\"Enter agreed price >= nominal price\")\n      else if(this.state.reqquant > this.state.cp.quant)\n        alert(\"Enter quantity <= availability\")\n      else{\n        alert(\"validated\")\n      }\n    }\n\n  \n    render() {\n      s1='/productimages/'+this.state.cp.img1\n      s2='/productimages/'+this.state.cp.img2\n      return (\n        <div style={donor} class=\"main\">\n                <CNav/>\n                <Sidenav/>\n                <div class=\"productalone\">\n                    <div class=\"divleft\">\n                        <h2>{this.state.cp.pname}</h2><br/>\n                        <img src={s1} width=\"400px\"/>\n                        <img src={s2} width=\"400px\"/>\n                    </div>\n                    <div class=\"divright\">\n                        <h3>Description : {this.state.cp.des}</h3>\n                        <h3>Availabitlity : {this.state.cp.quant}</h3>\n                        <h3>Nominal Price : Rs.{this.state.cp.nprice}</h3>\n                        <form>\n                            <h3>Required Quantity</h3><input type=\"text\" class=\"producttext\" value={this.state.reqquant} onChange={this.reqquant} required/>\n                            <h3>Agreed Price</h3><input type=\"text\" class=\"producttext\" value={this.state.aprice} onChange={this.aprice} required/>\n                            <button onClick={this.buyproduct}>Buy</button>\n                        </form>\n                    </div>\n                </div>\n        </div>\n        \n      );\n    }\n  }\n  \n  export default productalone;\n  "]},"metadata":{},"sourceType":"module"}